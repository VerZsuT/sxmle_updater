(()=>{"use strict";const e=require("electron");window.provider=new class{constructor(){this.config=new Proxy({},{get:(t,n)=>{const r=e.ipcRenderer.sendSync("property_config_get").value[n];return Array.isArray(r)||"object"!=typeof r?r:new Proxy(r,{get:(e,t)=>r[t],set:(e,t,c)=>(r[t]=c,this.config[n]=r,!0)})},set:(t,n,r)=>(t[n]=r,!e.ipcRenderer.sendSync("property_config_set",{key:n,value:r}).error)}),this.local={pop(e){const t=localStorage.getItem(e);return localStorage.removeItem(e),"null"===t?null:"undefined"!==t?t:void 0},get(e){const t=localStorage.getItem(String(e));return"null"===t?null:"undefined"!==t?t:void 0},set(e,t){localStorage.setItem(String(e),t)}},this.ipcRenderer=e.ipcRenderer,this.paths=e.ipcRenderer.sendSync("property_paths_get").value,this.texts=e.ipcRenderer.sendSync("property_texts_get").value,window.onload=()=>{document.title=document.title.replace("{--VERSION--}",`v${this.config.version}`),document.addEventListener("keydown",(t=>{if(t.ctrlKey&&"KeyS"===t.code){const e=document.querySelector("#save-params");e&&e.click()}else if("Escape"===t.code){const t=e.ipcRenderer.sendSync("get-windows-state");t.categories?e.app.quit():t.list?e.ipcRenderer.sendSync("function_openCategories_call"):t.editor?e.ipcRenderer.sendSync("function_openList_call"):window.close()}else t.ctrlKey&&"KeyQ"===t.code&&e.ipcRenderer.sendSync("function_quit_call")}))}}}})();