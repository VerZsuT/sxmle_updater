(()=>{"use strict";const e=require("electron");function t(){return e.ipcRenderer.sendSync("property_config_get").value}window.provider=new class{constructor(){this.config=new Proxy({},{get:(e,n)=>{const r=t()[n];return Array.isArray(r)||"object"!=typeof r||null===r?r:new Proxy(r,{get:(e,t)=>r[t],set:(e,t,o)=>(r[t]=o,this.config[n]=r,!0)})},set:(t,n,r)=>(t[n]=r,!e.ipcRenderer.sendSync("property_config_set",{key:n,value:r}).error)}),this.local={pop(e){const t=localStorage.getItem(e);return localStorage.removeItem(e),"null"===t?null:"undefined"!==t?t:void 0},get(e){const t=localStorage.getItem(String(e));return"null"===t?null:"undefined"!==t?t:void 0},set(e,t){localStorage.setItem(String(e),t)}},this.ipcRenderer=e.ipcRenderer,this.paths=e.ipcRenderer.sendSync("property_paths_get").value,this.texts=e.ipcRenderer.sendSync("property_texts_get").value,window.onload=()=>{document.title=document.title.replace("{--VERSION--}",`v${this.config.version}`),document.addEventListener("keydown",(n=>{if(n.ctrlKey&&"KeyS"===n.code){const e=document.querySelector("#save");e&&e.click()}else n.ctrlKey&&"KeyQ"===n.code?e.ipcRenderer.sendSync("function_quit_call"):"KeyI"===n.code&&n.ctrlKey&&n.shiftKey&&"dev"===t().buildType&&e.ipcRenderer.sendSync("function_toggleDevTools_call")}))}}}})();